{% extends "base.html" %}
{% block title %}{% if member %}Upgrade Member{% else %}Subscribe{% endif %}{% endblock %}

{% block content %}
<div class="container my-5 d-flex justify-content-center">
    <div class="card p-4 shadow" style="max-width:375px; width:100%;">
        <div class="d-flex flex-column align-items-center text-center">
            <h4>
              {% if member %}
                Upgrade {{ member.username }} to Premium
              {% else %}
                Upgrade to Premium!
              {% endif %}
            </h4>
            <p class="text-muted mb-3">
              {% if member %}
                Enter card details to upgrade <strong>{{ member.username }}</strong> to premium.
              {% else %}
                Subscribe to Planr Premium today. Enter any card details to simulate purchase.
              {% endif %}
            </p>
            {% if error %}
                <div class="alert alert-danger">{{ error }}</div>
            {% elif message %}
                <div class="alert alert-success">{{ message }}</div>
            {% endif %}
            <form method="post">
                {% csrf_token %}
                <input type="text" name="card_number" class="form-control mb-3" placeholder="Card Number" maxlength="16" required>
                <input type="text" name="expiry" class="form-control mb-3" placeholder="MM/YY" maxlength="5" required>
                <input type="text" name="cvv" class="form-control mb-3" placeholder="CVV" maxlength="4" required>
                <button type="submit" class="btn btn-warning w-100">
                  {% if member %}Upgrade Member{% else %}Subscribe{% endif %}
                </button>
            </form>
            <a href="{% url 'profile' %}" class="btn btn-link mt-3">Back to Profile</a>
        </div>
    </div>
</div>
{% endblock %}
